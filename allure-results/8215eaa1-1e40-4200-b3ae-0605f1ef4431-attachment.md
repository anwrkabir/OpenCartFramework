# Test info

- Name: End to End Test
- Location: C:\OpenCartPlaywright\tests\EndToEndTest.spec.ts:32:5

# Error details

```
Error: locator.click: Target page, context or browser has been closed
Call log:
  - waiting for locator('a[href*=\'account/login\']')
    - locator resolved to <a href="http://localhost/opencart/upload/index.php?route=account/login">Login</a>
  - attempting click action
    2 × waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
    - waiting 20ms
    2 × waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
      - waiting 100ms
    247 × waiting for element to be visible, enabled and stable
        - element is not visible
      - retrying click action
        - waiting 500ms

    at HomePage.clickLogin (C:\OpenCartPlaywright\pages\HomePage.ts:67:27)
    at performLogin (C:\OpenCartPlaywright\tests\EndToEndTest.spec.ts:93:24)
    at C:\OpenCartPlaywright\tests\EndToEndTest.spec.ts:47:10
```

# Test source

```ts
   1 | import { th } from "@faker-js/faker";
   2 | import { Page, expect, Locator } from "@playwright/test";
   3 |
   4 | export class HomePage {
   5 |   //declaring class property or global variable page2
   6 |   private readonly page2: Page;
   7 |
   8 |   //locators:
   9 |
  10 |   private readonly lnkMyAccount: Locator;
  11 |   private readonly lnkRegister: Locator;
  12 |   private readonly lnkLogin: Locator;
  13 |   private readonly txtSearchbox: Locator;
  14 |   private readonly btnSearch: Locator;
  15 |
  16 |   //constructor
  17 |   constructor(page1: Page) {
  18 |     //assinging the passed value of the page1 to page2
  19 |     this.page2 = page1;
  20 |     this.lnkMyAccount = page1.locator(
  21 |       "a[title='My Account'] span:nth-child(2)"
  22 |     );
  23 |     this.lnkRegister = page1.locator("a[href*='register']");
  24 |     this.lnkLogin = page1.locator("a[href*='account/login']");
  25 |     this.txtSearchbox = page1.locator("input[placeholder='Search']");
  26 |     this.btnSearch = page1.locator("#search button[type='button']");
  27 |   }
  28 |
  29 |   //action methods
  30 |
  31 |   //verify is page exist or not
  32 |   async isHomePageExist(): Promise<boolean> {
  33 |     let title = await this.page2.title();
  34 |     if (title) { // if title is present
  35 |
  36 |       return true;
  37 |     }
  38 |     return false;
  39 |   }
  40 |
  41 |   //Click "My Account" link
  42 |   async clickMyAccount() {
  43 |     try {
  44 |       await this.lnkMyAccount.click();
  45 |     } catch (error) {
  46 |       console.log(
  47 |         `Exception occured while clicking 'My Account Link':${error}`
  48 |       );
  49 |       throw error;
  50 |     }
  51 |   }
  52 |
  53 |   
  54 |  // Click "Register" link
  55 |     async clickRegister(){
  56 |         try {
  57 |             await this.lnkRegister.click();
  58 |         } catch (error) {
  59 |             console.log(`Exception occurred while clicking 'Register': ${error}`);
  60 |             throw error;
  61 |         }
  62 |     }
  63 |
  64 |   //click "Login" link
  65 |   async clickLogin() {
  66 |     try {
> 67 |       await this.lnkLogin.click();
     |                           ^ Error: locator.click: Target page, context or browser has been closed
  68 |     } catch (error) {
  69 |       console.log(`Exception occured while clicking 'Login':${error}`);
  70 |       throw error;
  71 |     }
  72 |   }
  73 |
  74 |   //Enter product name in the search box
  75 |
  76 |   async enterProductName(pName: string) {
  77 |     try {
  78 |       await this.txtSearchbox.fill(pName);
  79 |     } catch (error) {
  80 |       console.log(`Exception occured while entering product name':${error}`);
  81 |       throw error;
  82 |     }
  83 |   }
  84 |
  85 |   //Click the search button after entering the product name in the 'Search' box
  86 |   async clickSearchButton() {
  87 |     try {
  88 |       await this.btnSearch.click();
  89 |     } catch (error) {
  90 |       console.log(`Exception occured while clicking 'search'button:${error}`);
  91 |       throw error;
  92 |     }
  93 |   }
  94 |
  95 |   
  96 | }
  97 |
```